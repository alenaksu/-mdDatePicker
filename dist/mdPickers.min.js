!function(){"use strict";function e(e,t,n,a,i,o,r,s,c){var d=this;this._mdPanelRef=s,this.date=moment(o),this.minDate=r.minDate&&moment(r.minDate).isValid()?moment(r.minDate):null,this.maxDate=r.maxDate&&moment(r.maxDate).isValid()?moment(r.maxDate):null,this.displayFormat=r.displayFormat||"ddd, MMM DD",this.dateFilter=angular.isFunction(r.dateFilter)?r.dateFilter:null,this.selectingYear=!1,this.onWindowResize=function(){angular.element(c).off("resize",this.onWindowResize),d.cancel()},angular.element(c).on("resize",this.onWindowResize),e.$on("$stateChangeStart",function(){d.cancel()}),e.$on("$locationChangeSuccess",function(){d.cancel()}),this.minDate&&this.maxDate&&this.maxDate.isBefore(this.minDate)&&(this.maxDate=moment(this.minDate).add(1,"days")),this.date&&(this.minDate&&this.date.isBefore(this.minDate)&&(this.date=moment(this.minDate)),this.maxDate&&this.date.isAfter(this.maxDate)&&(this.date=moment(this.maxDate))),this.yearItems={currentIndex_:0,PAGE_SIZE:5,START:d.minDate?d.minDate.year():1900,END:d.maxDate?d.maxDate.year():0,getItemAtIndex:function(e){return this.currentIndex_<e&&(this.currentIndex_=e),this.START+e},getLength:function(){return Math.min(this.currentIndex_+Math.floor(this.PAGE_SIZE/2),Math.abs(this.START-this.END)+1)}},t.$mdMedia=a,t.year=this.date.year(),this.selectYear=function(e){d.date.year(e),t.year=e,d.selectingYear=!1,d.animate()},this.showYear=function(){d.yearTopIndex=d.date.year()-d.yearItems.START+Math.floor(d.yearItems.PAGE_SIZE/2),d.yearItems.currentIndex_=d.date.year()-d.yearItems.START+1,d.selectingYear=!0},this.showCalendar=function(){d.selectingYear=!1},this.cleanUpTrackedPanels=function(e){e._$mdPanel._trackedPanels.mdpDatePicker&&delete e._$mdPanel._trackedPanels.mdpDatePicker},this.cancel=function(){var e=this._mdPanelRef,t=this;e&&e.close().then(function(){try{angular.element(e.config.openFrom.currentTarget).focus(),t.cleanUpTrackedPanels(e)}catch(n){console.log("Reference not found "+n)}finally{e.destroy()}})},this.confirm=function(){var e=d.date,t=d._mdPanelRef;d.minDate&&d.date.isBefore(d.minDate)&&(e=moment(this.minDate)),d.maxDate&&d.date.isAfter(d.maxDate)&&(e=moment(d.maxDate)),t&&t.close().then(function(){try{angular.element(t.config.openFrom.currentTarget).focus(),t.config.locals.onClose(e.toDate()),d.cleanUpTrackedPanels(t)}catch(n){console.log("No close function found.")}finally{t.destroy()}})},this.animate=function(){d.animating=!0,i(angular.noop).then(function(){d.animating=!1})}}function t(e){var t=this;this.dow=moment.localeData().firstDayOfWeek(),this.weekDays=[].concat(moment.weekdaysMin().slice(this.dow),moment.weekdaysMin().slice(0,this.dow)),this.daysInMonth=[],this.getDaysInMonth=function(){var e=t.date.daysInMonth(),n=moment(t.date).date(1).day()-this.dow;n<0&&(n=this.weekDays.length-1);for(var a=[],i=1;i<=n+e;i++){var o=null;i>n&&(o={value:i-n,enabled:t.isDayEnabled(moment(t.date).date(i-n).toDate())}),a.push(o)}return a},this.isDayEnabled=function(e){return!(this.minDate&&!(this.minDate<=e)||this.maxDate&&!(this.maxDate>=e)||t.dateFilter&&t.dateFilter(e))},this.selectDate=function(e){t.date.date(e)},this.selectDateDblClick=function(e){t.date.date(e),this.doubleClick&&this.doubleClick()},this.nextMonth=function(){t.date.add(1,"months")},this.prevMonth=function(){t.date.subtract(1,"months")},this.updateDaysInMonth=function(){t.daysInMonth=t.getDaysInMonth()},e.$watch(function(){return t.date.unix()},function(e,n){e&&e!==n&&t.updateDaysInMonth()}),t.updateDaysInMonth()}function n(e,t){return!e||angular.isDate(e)||moment(e,t,!0).isValid()}function a(e,t,n){var n=moment(n,"YYYY-MM-DD",!0),a=angular.isDate(e)?moment(e):moment(e,t,!0);return!e||angular.isDate(e)||!n.isValid()||a.isSameOrAfter(n)}function i(e,t,n){var n=moment(n,"YYYY-MM-DD",!0),a=angular.isDate(e)?moment(e):moment(e,t,!0);return!e||angular.isDate(e)||!n.isValid()||a.isSameOrBefore(n)}function o(e,t,n){var a=angular.isDate(e)?moment(e):moment(e,t,!0);return!e||angular.isDate(e)||!angular.isFunction(n)||!n(a)}function r(e,t,n,a,i,o,r,s){var c=this;this._mdPanelRef=r,this.VIEW_HOURS=1,this.VIEW_MINUTES=2,this.currentView=this.VIEW_HOURS,this.time=moment(a),this.autoSwitch=!!i,this.onWindowResize=function(){angular.element(s).off("resize",this.onWindowResize),c.cancel()},angular.element(s).on("resize",this.onWindowResize),e.$on("$stateChangeStart",function(){c.cancel()}),e.$on("$locationChangeSuccess",function(){c.cancel()}),this.clockHours=parseInt(this.time.format("h")),this.clockMinutes=parseInt(this.time.minutes()),t.$mdMedia=o,this.switchView=function(){c.currentView=c.currentView==c.VIEW_HOURS?c.VIEW_MINUTES:c.VIEW_HOURS},this.setAM=function(){c.time.hours()>=12&&c.time.hour(c.time.hour()-12)},this.setPM=function(){c.time.hours()<12&&c.time.hour(c.time.hour()+12)},this.cleanUpTrackedPanels=function(e){e._$mdPanel._trackedPanels.mdpTimePicker&&delete e._$mdPanel._trackedPanels.mdpTimePicker},this.cancel=function(){var e=this._mdPanelRef,t=this;e&&e.close().then(function(){try{angular.element(e.config.openFrom.currentTarget).focus(),t.cleanUpTrackedPanels(e)}catch(n){console.log("Reference not found "+n)}finally{e.destroy()}})},this.confirm=function(){var e=c.time,t=c._mdPanelRef;t&&t.close().then(function(){try{angular.element(t.config.openFrom.currentTarget).focus(),t.config.locals.onClose(e.toDate()),c.cleanUpTrackedPanels(t)}catch(n){console.log("No close function found.")}finally{t.destroy()}})}}function s(e){var t="hours",n="minutes",a=this;this.STEP_DEG=30,this.steps=[],this.CLOCK_TYPES={hours:{range:12},minutes:{range:60}},this.getPointerStyle=function(){var e=1;switch(a.type){case t:e=12;break;case n:e=60}var i=Math.round(a.selected*(360/e))-180;return{"-webkit-transform":"rotate("+i+"deg)","-ms-transform":"rotate("+i+"deg)",transform:"rotate("+i+"deg)"}},this.setTimeByDeg=function(e){e=e>=360?0:e;var i=0;switch(a.type){case t:i=12;break;case n:i=60}a.setTime(Math.round(i/360*e))},this.setTime=function(e,i){switch(this.selected=e,a.type){case t:"PM"==a.time.format("A")&&(e+=12),this.time.hours(e);break;case n:e>59&&(e-=60),this.time.minutes(e)}},this.init=function(){switch(a.type=a.type||"hours",a.type){case t:for(var e=1;e<=12;e++)a.steps.push(e);a.selected=a.time.hours()||0,a.selected>12&&(a.selected-=12);break;case n:for(var e=5;e<=55;e+=5)a.steps.push(e);a.steps.push(0),a.selected=a.time.minutes()||0}},this.init()}var c=angular.module("mdPickers",["ngMaterial","ngAnimate","ngAria"]);c.config(["$mdIconProvider","mdpIconsRegistry",function(e,t){angular.forEach(t,function(t,n){e.icon(t.id,t.url)})}]),c.run(["$templateCache","mdpIconsRegistry",function(e,t){angular.forEach(t,function(t,n){e.put(t.url,t.svg)})}]),c.constant("mdpIconsRegistry",[{id:"mdp-chevron-left",url:"mdp-chevron-left.svg",svg:'<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/><path d="M0 0h24v24H0z" fill="none"/></svg>'},{id:"mdp-chevron-right",url:"mdp-chevron-right.svg",svg:'<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/><path d="M0 0h24v24H0z" fill="none"/></svg>'},{id:"mdp-access-time",url:"mdp-access-time.svg",svg:'<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/><path d="M0 0h24v24H0z" fill="none"/><path d="M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"/></svg>'},{id:"mdp-event",url:"mdp-event.svg",svg:'<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"/><path d="M0 0h24v24H0z" fill="none"/></svg>'}]),c.directive("ngMessage",["$mdUtil",function(e){return{restrict:"EA",priority:101,compile:function(t){var n=e.getClosest(t,"mdp-time-picker",!0)||e.getClosest(t,"mdp-date-picker",!0);if(n)return t.toggleClass("md-input-message-animation",!0),{}}}}]),c.provider("$mdpDatePicker",function(){var t="OK",n="Cancel",a="ddd, MMM DD";this.setDisplayFormat=function(e){a=e},this.setOKButtonLabel=function(e){t=e},this.setCancelButtonLabel=function(e){n=e},this.$get=["$mdPanel",function(i){var o=i,r=function(r,s,c){var d=i._trackedPanels,l=function(){d.mdpDatePicker.destroy(),delete d.mdpDatePicker},m=function(){o.open(f)},u=function(e,t){var n=e.currentTarget.parentElement,a=t.currentTarget.parentElement;return n==a};angular.isDate(r)||(r=Date.now()),angular.isObject(s)||(s={targetEvent:null}),s.displayFormat=a;var p=o.newPanelPosition().relativeTo(s.targetEvent.currentTarget).addPanelPosition(o.xPosition.CENTER,o.yPosition.BELOW).addPanelPosition(o.xPosition.ALIGN_START,o.yPosition.BELOW).addPanelPosition(o.xPosition.ALIGN_END,o.yPosition.BELOW).addPanelPosition(o.xPosition.OFFSET_START,o.yPosition.BELOW).addPanelPosition(o.xPosition.OFFSET_END,o.yPosition.BELOW).addPanelPosition(o.xPosition.CENTER,o.yPosition.ABOVE).addPanelPosition(o.xPosition.ALIGN_START,o.yPosition.ABOVE).addPanelPosition(o.xPosition.ALIGN_END,o.yPosition.ABOVE).addPanelPosition(o.xPosition.OFFSET_START,o.yPosition.ABOVE).addPanelPosition(o.xPosition.OFFSET_END,o.yPosition.ABOVE),h=i.newPanelAnimation().openFrom(s.targetEvent.currentTarget).closeTo(s.targetEvent.currentTarget).withAnimation(i.animation.SCALE),f={id:"mdpDatePicker",attachTo:angular.element(document.body),controller:["$rootScope","$scope","$mdPanel","$mdMedia","$timeout","currentDate","options","mdPanelRef","$window",e],controllerAs:"datepicker",template:'<md-card class="mdp-datepicker" ng-class="{ \'portrait\': !$mdMedia(\'gt-xs\') }"><div layout="row" layout-wrap><div layout="column" layout-align="start center"><md-toolbar layout-align="start start" flex class="mdp-datepicker-date-wrapper md-hue-1 md-primary" layout="column"><span class="mdp-datepicker-year" ng-click="datepicker.showYear()" ng-class="{ \'active\': datepicker.selectingYear }">{{ datepicker.date.format(\'YYYY\') }}</span><span class="mdp-datepicker-date" ng-click="datepicker.showCalendar()" ng-class="{ \'active\': !datepicker.selectingYear }">{{ datepicker.date.format(datepicker.displayFormat) }}</span> </md-toolbar></div><div><div class="mdp-datepicker-select-year mdp-animation-zoom" layout="column" layout-align="center start" ng-if="datepicker.selectingYear"><md-virtual-repeat-container md-auto-shrink md-top-index="datepicker.yearTopIndex"><div flex md-virtual-repeat="item in datepicker.yearItems" md-on-demand class="repeated-year"><span class="md-button" ng-click="datepicker.selectYear(item)" md-ink-ripple ng-class="{ \'md-primary current\': item == year }">{{ item }}</span></div></md-virtual-repeat-container></div><mdp-calendar ng-if="!datepicker.selectingYear" double-click="datepicker.confirm" class="mdp-animation-zoom" date="datepicker.date" min-date="datepicker.minDate" date-filter="datepicker.dateFilter" max-date="datepicker.maxDate"></mdp-calendar><md-dialog-actions layout="row"><span flex></span><md-button ng-click="datepicker.cancel()" aria-label="'+n+'">'+n+'</md-button><md-button ng-click="datepicker.confirm()" class="md-primary" aria-label="'+t+'">'+t+"</md-button></md-dialog-actions></div></div></md-card>",openFrom:s.targetEvent,position:p,animation:h,locals:{currentDate:r,options:s,onClose:c},clickOutsideToClose:!1,escapeToClose:!0,focusOnOpen:!1,trapFocus:!1,zIndex:2};return d.mdpDatePicker?u(d.mdpDatePicker.config.openFrom,s.targetEvent)?d.mdpDatePicker.close().then(l):d.mdpDatePicker.close().then(l).then(m):m()};return r}]}),c.directive("mdpCalendar",["$animate",function(e){return{restrict:"E",bindToController:{date:"=",minDate:"=",maxDate:"=",dateFilter:"=",doubleClick:"="},template:'<div class="mdp-calendar"><div layout="row" layout-align="space-between center"><md-button aria-label="previous month" class="md-icon-button" ng-click="calendar.prevMonth()"><md-icon md-svg-icon="mdp-chevron-left"></md-icon></md-button><div class="mdp-calendar-monthyear" ng-show="!calendar.animating">{{ calendar.date.format("MMMM YYYY") }}</div><md-button aria-label="next month" class="md-icon-button" ng-click="calendar.nextMonth()"><md-icon md-svg-icon="mdp-chevron-right"></md-icon></md-button></div><div layout="row" layout-align="space-around center" class="mdp-calendar-week-days" ng-show="!calendar.animating"><div layout layout-align="center center" ng-repeat="d in calendar.weekDays track by $index">{{ d }}</div></div><div layout="row" layout-align="start center" layout-wrap class="mdp-calendar-days" ng-class="{ \'mdp-animate-next\': calendar.animating }" ng-show="!calendar.animating" md-swipe-left="calendar.nextMonth()" md-swipe-right="calendar.prevMonth()"><div layout layout-align="center center" ng-repeat-start="day in calendar.daysInMonth track by $index" ng-class="{ \'mdp-day-placeholder\': !day }"><md-button class="md-icon-button md-raised" aria-label="Select day" ng-if="day" ng-class="{ \'md-accent\': calendar.date.date() == day.value }" ng-click="calendar.selectDate(day.value)" ng-dblclick="calendar.selectDateDblClick(day.value)" ng-disabled="!day.enabled">{{ day.value }}</md-button></div><div flex="100" ng-if="($index + 1) % 7 == 0" ng-repeat-end></div></div></div>',controller:["$scope",t],controllerAs:"calendar",link:function(t,n,a,i){var o=[n[0].querySelector(".mdp-calendar-week-days"),n[0].querySelector(".mdp-calendar-days"),n[0].querySelector(".mdp-calendar-monthyear")].map(function(e){return angular.element(e)});t.$watch(function(){return i.date.format("YYYYMM")},function(t,n){var a=null;if(t>n?a="mdp-animate-next":t<n&&(a="mdp-animate-prev"),a)for(var i in o)o[i].addClass(a),e.removeClass(o[i],a)})}}}]),c.directive("mdpDatePicker",["$mdpDatePicker","$timeout",function(e,t){return{restrict:"E",require:"ngModel",transclude:!0,template:function(e,t){var n=angular.isDefined(t.mdpNoFloat),a=angular.isDefined(t.mdpPlaceholder)?t.mdpPlaceholder:"",i=!!angular.isDefined(t.mdpOpenOnClick);return'<div layout layout-align="start start"><md-button'+(angular.isDefined(t.mdpDisabled)?' ng-disabled="disabled"':"")+' class="md-icon-button" ng-click="showPicker($event)"><md-icon md-svg-icon="mdp-event"></md-icon></md-button><md-input-container'+(n?" md-no-float":"")+' md-is-error="isError()"><input type="{{ ::type }}"'+(angular.isDefined(t.mdpDisabled)?' ng-disabled="disabled"':"")+' aria-label="'+a+'" placeholder="'+a+'"'+(i?' ng-click="showPicker($event)" ':"")+" /></md-input-container></div>"},scope:{minDate:"=mdpMinDate",maxDate:"=mdpMaxDate",dateFilter:"=mdpDateFilter",dateFormat:"@mdpFormat",placeholder:"@mdpPlaceholder",noFloat:"=mdpNoFloat",openOnClick:"=mdpOpenOnClick",disabled:"=?mdpDisabled"},link:{pre:function(e,t,n,a,i){},post:function(t,r,s,c,d){function l(e){p[0].value=e,f.setHasValue(!c.$isEmpty(e))}function m(e){var n=moment(e,angular.isDate(e)?null:t.dateFormat,!0),a=n.format(t.dateFormat);n.isValid()?(l(a),c.$setViewValue(a)):(l(e),c.$setViewValue(e)),!c.$pristine&&g.hasClass("md-auto-hide")&&h.hasClass("md-input-invalid")&&g.removeClass("md-auto-hide"),c.$render()}function u(e){e.target.value!==c.$viewVaue&&m(e.target.value)}var p=angular.element(r[0].querySelector("input")),h=angular.element(r[0].querySelector("md-input-container")),f=h.controller("mdInputContainer");d(function(e){h.append(e)});var g=angular.element(h[0].querySelector("[ng-messages]"));t.type=t.dateFormat?"text":"date",t.dateFormat=t.dateFormat||"YYYY-MM-DD",t.model=c,t.isError=function(){return!c.$pristine&&!!c.$invalid},c.$formatters.unshift(function(e){var n=angular.isDate(e)&&moment(e);l(n&&n.isValid()?n.format(t.dateFormat):null)}),c.$validators.format=function(e,a){return n(a,t.dateFormat)},c.$validators.minDate=function(e,n){return a(n,t.dateFormat,t.minDate)},c.$validators.maxDate=function(e,n){return i(n,t.dateFormat,t.maxDate)},c.$validators.filter=function(e,n){return o(n,t.dateFormat,t.dateFilter)},c.$validators.required=function(e,t){return angular.isUndefined(s.required)||!c.$isEmpty(e)||!c.$isEmpty(t)},c.$parsers.unshift(function(e){var n=moment(e,t.dateFormat,!0);if(n.isValid()){if(angular.isDate(c.$modelValue)){var a=moment(c.$modelValue);a.year(n.year()),a.month(n.month()),a.date(n.date()),n=a}return n.toDate()}return null}),t.showPicker=function(n){e(c.$modelValue,{minDate:t.minDate,maxDate:t.maxDate,dateFilter:t.dateFilter,targetEvent:n},m),angular.element(n.currentTarget.parentElement).find("input").focus()},p.on("reset input blur",u),t.$on("$destroy",function(){p.off("reset input blur",u)})}}}}]),c.directive("mdpDatePicker",["$mdpDatePicker","$timeout",function(e,t){return{restrict:"A",require:"ngModel",scope:{minDate:"@min",maxDate:"@max",dateFilter:"=mdpDateFilter",dateFormat:"@mdpFormat"},link:function(t,r,s,c,d){function l(n){e(c.$modelValue,{minDate:t.minDate,maxDate:t.maxDate,dateFilter:t.dateFilter,targetEvent:n}).then(function(e){c.$setViewValue(moment(e).format(t.format)),c.$render()})}t.dateFormat=t.dateFormat||"YYYY-MM-DD",c.$validators.format=function(e,a){return n(a,t.format)},c.$validators.minDate=function(e,n){return a(n,t.format,t.minDate)},c.$validators.maxDate=function(e,n){return i(n,t.format,t.maxDate)},c.$validators.filter=function(e,n){return o(n,t.format,t.dateFilter)},r.on("click",l),t.$on("$destroy",function(){r.off("click",l)})}}}]),c.directive("mdpClock",["$animate","$timeout",function(e,t){return{restrict:"E",bindToController:{type:"@?",time:"=",autoSwitch:"=?"},replace:!0,template:'<div class="mdp-clock"><div class="mdp-clock-container"><md-toolbar class="mdp-clock-center md-primary"></md-toolbar><md-toolbar ng-style="clock.getPointerStyle()" class="mdp-pointer md-primary"><span class="mdp-clock-selected md-button md-raised md-primary"></span></md-toolbar><md-button ng-class="{ \'md-primary\': clock.selected == step }" class="md-icon-button md-raised mdp-clock-deg{{ ::(clock.STEP_DEG * ($index + 1)) }}" ng-repeat="step in clock.steps" ng-click="clock.setTime(step)">{{ step }}</md-button></div></div>',controller:["$scope",s],controllerAs:"clock",link:function(e,n,a,i){var o=(angular.element(n[0].querySelector(".mdp-pointer")),e.$parent.timepicker),r=function(e){var n=e.currentTarget.getClientRects()[0],a=e.currentTarget.offsetWidth/2-(e.pageX-n.left),r=e.pageY-n.top-e.currentTarget.offsetHeight/2,s=Math.round(Math.atan2(a,r)*(180/Math.PI));t(function(){i.setTimeByDeg(s+180),i.autoSwitch&&["mouseup","click"].indexOf(e.type)!==-1&&o&&o.switchView()})};n.on("mousedown",function(){n.on("mousemove",r)}),n.on("mouseup",function(e){n.off("mousemove")}),n.on("click",r),e.$on("$destroy",function(){n.off("click",r),n.off("mousemove",r)})}}}]),c.provider("$mdpTimePicker",function(){var e="OK",t="Cancel";this.setOKButtonLabel=function(t){e=t},this.setCancelButtonLabel=function(e){t=e},this.$get=["$mdPanel",function(n){var a=n,i=function(i,o,s){var c=n._trackedPanels,d=function(){c.mdpTimePicker.destroy(),delete c.mdpTimePicker},l=function(){a.open(h)},m=function(e,t){var n=e.currentTarget.parentElement,a=t.currentTarget.parentElement;return n==a};angular.isDate(i)||(i=Date.now()),angular.isObject(o)||(o={});var u=a.newPanelPosition().relativeTo(o.targetEvent.currentTarget).addPanelPosition(a.xPosition.CENTER,a.yPosition.BELOW).addPanelPosition(a.xPosition.ALIGN_START,a.yPosition.BELOW).addPanelPosition(a.xPosition.ALIGN_END,a.yPosition.BELOW).addPanelPosition(a.xPosition.OFFSET_START,a.yPosition.BELOW).addPanelPosition(a.xPosition.OFFSET_END,a.yPosition.BELOW).addPanelPosition(a.xPosition.CENTER,a.yPosition.ABOVE).addPanelPosition(a.xPosition.ALIGN_START,a.yPosition.ABOVE).addPanelPosition(a.xPosition.ALIGN_END,a.yPosition.ABOVE).addPanelPosition(a.xPosition.OFFSET_START,a.yPosition.ABOVE).addPanelPosition(a.xPosition.OFFSET_END,a.yPosition.ABOVE),p=n.newPanelAnimation().openFrom(o.targetEvent.currentTarget).closeTo(o.targetEvent.currentTarget).withAnimation(n.animation.SCALE),h={id:"mdpTimePicker",attachTo:angular.element(document.body),controller:["$rootScope","$scope","$mdPanel","time","autoSwitch","$mdMedia","mdPanelRef","$window",r],controllerAs:"timepicker",template:'<md-card aria-label="" class="mdp-timepicker" ng-class="{ \'portrait\': !$mdMedia(\'gt-xs\') }"><div layout-gt-xs="row" layout-wrap><md-toolbar layout-gt-xs="column" layout-xs="row" layout-align="center center" flex class="mdp-timepicker-time md-hue-1 md-primary"><div class="mdp-timepicker-selected-time"><span ng-class="{ \'active\': timepicker.currentView == timepicker.VIEW_HOURS }" ng-click="timepicker.currentView = timepicker.VIEW_HOURS">{{ timepicker.time.format("h") }}</span>:<span ng-class="{ \'active\': timepicker.currentView == timepicker.VIEW_MINUTES }" ng-click="timepicker.currentView = timepicker.VIEW_MINUTES">{{ timepicker.time.format("mm") }}</span></div><div layout="column" class="mdp-timepicker-selected-ampm"><span ng-click="timepicker.setAM()" ng-class="{ \'active\': timepicker.time.hours() < 12 }">AM</span><span ng-click="timepicker.setPM()" ng-class="{ \'active\': timepicker.time.hours() >= 12 }">PM</span></div></md-toolbar><div><div class="mdp-clock-switch-container" ng-switch="timepicker.currentView" layout layout-align="center center"><mdp-clock class="mdp-animation-zoom" auto-switch="timepicker.autoSwitch" time="timepicker.time" type="hours" ng-switch-when="1"></mdp-clock><mdp-clock class="mdp-animation-zoom" auto-switch="timepicker.autoSwitch" time="timepicker.time" type="minutes" ng-switch-when="2"></mdp-clock></div><md-dialog-actions layout="row"><span flex></span><md-button ng-click="timepicker.cancel()" aria-label="'+t+'">'+t+'</md-button><md-button ng-click="timepicker.confirm()" class="md-primary" aria-label="'+e+'">'+e+"</md-button></md-dialog-actions></div></div></md-card>",openFrom:o.targetEvent,position:u,animation:p,locals:{time:i,autoSwitch:o.autoSwitch,onClose:s},skipHide:!0,clickOutsideToClose:!1,escapeToClose:!0,focusOnOpen:!1,trapFocus:!1,zIndex:2};return c.mdpTimePicker?m(c.mdpTimePicker.config.openFrom,o.targetEvent)?c.mdpTimePicker.close().then(d):c.mdpTimePicker.close().then(d).then(l):l()};return i}]}),c.directive("mdpTimePicker",["$mdpTimePicker","$timeout",function(e,t){return{restrict:"E",require:"ngModel",transclude:!0,template:function(e,t){var n=angular.isDefined(t.mdpNoFloat),a=angular.isDefined(t.mdpPlaceholder)?t.mdpPlaceholder:"",i=!!angular.isDefined(t.mdpOpenOnClick);return'<div layout layout-align="start start"><md-button class="md-icon-button" ng-click="showPicker($event)"'+(angular.isDefined(t.mdpDisabled)?' ng-disabled="disabled"':"")+'><md-icon md-svg-icon="mdp-access-time"></md-icon></md-button><md-input-container'+(n?" md-no-float":"")+' md-is-error="isError()"><input type="{{ ::type }}"'+(angular.isDefined(t.mdpDisabled)?' ng-disabled="disabled"':"")+' aria-label="'+a+'" placeholder="'+a+'"'+(i?' ng-click="showPicker($event)" ':"")+" /></md-input-container></div>"},scope:{timeFormat:"@mdpFormat",placeholder:"@mdpPlaceholder",autoSwitch:"=?mdpAutoSwitch",disabled:"=?mdpDisabled"},link:function(t,n,a,i,o){function r(e){d[0].value=e,m.setHasValue(!i.$isEmpty(e))}function s(e){var n=moment(e,angular.isDate(e)?null:t.timeFormat,!0),a=n.format(t.timeFormat);n.isValid()?(r(a),i.$setViewValue(a)):(r(e),i.$setViewValue(e)),!i.$pristine&&u.hasClass("md-auto-hide")&&l.hasClass("md-input-invalid")&&u.removeClass("md-auto-hide"),i.$render()}function c(e){e.target.value!==i.$viewVaue&&s(e.target.value)}var d=angular.element(n[0].querySelector("input")),l=angular.element(n[0].querySelector("md-input-container")),m=l.controller("mdInputContainer");o(function(e){l.append(e)});var u=angular.element(l[0].querySelector("[ng-messages]"));t.type=t.timeFormat?"text":"time",t.timeFormat=t.timeFormat||"HH:mm",t.autoSwitch=t.autoSwitch||!1,t.$watch(function(){return i.$error},function(e,t){m.setInvalid(!i.$pristine&&!!Object.keys(i.$error).length)},!0),i.$formatters.unshift(function(e){var n=angular.isDate(e)&&moment(e);r(n&&n.isValid()?n.format(t.timeFormat):null)}),i.$validators.format=function(e,n){return!n||angular.isDate(n)||moment(n,t.timeFormat,!0).isValid()},i.$validators.required=function(e,t){return angular.isUndefined(a.required)||!i.$isEmpty(e)||!i.$isEmpty(t)},i.$parsers.unshift(function(e){var n=moment(e,t.timeFormat,!0);if(n.isValid()){if(angular.isDate(i.$modelValue)){var a=moment(i.$modelValue);a.minutes(n.minutes()),a.hours(n.hours()),a.seconds(n.seconds()),n=a}return n.toDate()}return null}),t.showPicker=function(n){e(i.$modelValue,{targetEvent:n,autoSwitch:t.autoSwitch},s),angular.element(n.currentTarget.parentElement).find("input").focus()},d.on("reset input blur",c),t.$on("$destroy",function(){d.off("reset input blur",c)})}}}]),c.directive("mdpTimePicker",["$mdpTimePicker","$timeout",function(e,t){return{restrict:"A",require:"ngModel",scope:{timeFormat:"@mdpFormat",autoSwitch:"=?mdpAutoSwitch"},link:function(t,n,a,i,o){function r(n){e(i.$modelValue,{targetEvent:n,autoSwitch:t.autoSwitch}).then(function(e){i.$setViewValue(moment(e).format(t.format)),i.$render()})}t.format=t.format||"HH:mm",n.on("click",r),t.$on("$destroy",function(){n.off("click",r)})}}}])}();
//# sourceMappingURL=mdPickers.min.js.map
